---
import PostList from "../../components/content/post-list.astro"
import { getDictionary } from "../../i18n/get-dictionary"
import { DEFAULT_LOCALE } from "../../i18n/locales"
import { toLocalePath } from "../../i18n/paths"
import ContentLayout from "../../layouts/ContentLayout.astro"
import { getBlogPosts } from "../../lib/content/queries"

const locale = DEFAULT_LOCALE
const [posts, dictionary] = await Promise.all([
	getBlogPosts({ locale }),
	getDictionary(locale),
])
---

<ContentLayout
	title={`${dictionary.content.blogTitle} | Mdit`}
	description={dictionary.content.blogDescription}
	canonicalPath={toLocalePath(locale, "/blog")}
	locale={locale}
>
	<section class="mb-10">
		<h1 class="text-4xl font-semibold text-foreground/90 mb-3">{dictionary.content.blogTitle}</h1>
		<p class="text-muted-foreground">{dictionary.content.blogDescription}</p>
	</section>

	<PostList posts={posts} />
</ContentLayout>
