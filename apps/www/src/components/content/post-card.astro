---
import { toLocalePath } from "../../i18n/paths"
import type { BlogPost } from "../../lib/content/mappers"
import { formatDate } from "../../lib/date/format"

interface Props {
	post: BlogPost
}

const { post } = Astro.props
const href = toLocalePath(post.locale, `/blog/${post.slug}`)
---

<article class="border border-border rounded-xl p-5 bg-background hover:shadow-md transition-shadow">
	<p class="text-sm text-muted-foreground mb-2">{formatDate(post.publishedAt)}</p>
	<h2 class="text-xl font-semibold text-foreground/90 mb-2">
		<a href={href} class="hover:underline">{post.title}</a>
	</h2>
	<p class="text-muted-foreground mb-4">{post.description}</p>
	{
		post.tags.length > 0 && (
			<ul class="flex flex-wrap gap-2">
				{post.tags.map((tag) => (
					<li class="text-xs rounded-md bg-muted px-2 py-1 text-muted-foreground">
						{tag}
					</li>
				))}
			</ul>
		)
	}
</article>
